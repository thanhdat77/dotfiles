##### Terminal #####
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"
set -g allow-passthrough on

##### Basics #####
set -g mouse on
set -g base-index 1
set -g pane-base-index 1
setw -g mode-keys vi

##### Reload #####
unbind r
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

##### Prefix #####
set -g prefix C-b
set -g prefix2 C-Space

##### Splits #####
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

##### Resize (Colemak DH hjkl) #####
bind -r h resize-pane -L 5
bind -r j resize-pane -D 5
bind -r k resize-pane -U 5
bind -r l resize-pane -R 5

##### Maximize #####
bind m resize-pane -Z

##### Vi copy mode #####
bind v copy-mode
bind-key -T copy-mode-vi v send -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "clip.exe"

##### WSL copy outside copy-mode #####
bind y run "tmux show-buffer | clip.exe"

##### Floating popups #####
bind-key C-y display-popup -d "#{pane_current_path}" -w 90% -h 90% -E "yazi"
bind-key C-g display-popup -d "#{pane_current_path}" -w 90% -h 90% -E "lazygit"
bind-key C-t display-popup -d "#{pane_current_path}" -w 80% -h 80% -E "zsh"

##### Sessionizer #####
bind-key -r f run-shell "$HOME/scripts/tmux-sessionizer"

##### TPM Plugins #####
set-environment -g TMUX_PLUGIN_MANAGER_PATH "~/.config/tmux/.tmux/plugins"
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin "christoomey/vim-tmux-navigator"
set -g @plugin 'catppuccin/tmux'

##### Catppuccin latte (light theme) #####
set -g @catppuccin_flavor "latte"

##### Status Bar #####
set -g status-style "bg=#{@thm_base} fg=#{@thm_text}"
set -g status-left "#[fg=#{@thm_green}] î¯ˆ #S "
set -g status-right "#[fg=#{@thm_blue}] %Y-%m-%d %H:%M "

##### Load TPM #####
run '~/.config/tmux/.tmux/plugins/tpm/tpm'
### test reload ###
### test reload ###
